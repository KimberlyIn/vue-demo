{"version":3,"sources":["webpack:///./src/views/UserCart.vue","webpack:///./src/views/UserCart.vue?159a"],"names":["class","style","href","colspan","for","active","isLoading","z-index","products","item","key","id","imageUrl","title","price","origin_price","type","getProduct","disabled","status","loadingItem","is_enabled","addToCart","deleteAllCarts","cart","carts","removeCartItem","product","coupon","updateCart","min","qty","unit","final_total","total","$filters","currency","coupon_code","placeholder","addCouponCode","ref","createOrder","errors","name","rules","form","user","email","tel","address","cols","rows","message","data","inject","methods","getProducts","url","this","$http","get","then","response","$router","push","product_id","post","$httpMessageState","getCart","put","delete","success","code","order","orderId","$refs","resetForm","created","render"],"mappings":"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","file":"assets/js/chunk-2d0d7893.016253e8.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n    <div class=\"mt-4\">\n      <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th>圖片</th>\n            <th>商品名稱</th>\n            <th>價格</th>\n            <th>功能</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in products\" :key=\"item.id\">\n            <td style=\"width: 200px\">\n              <div\n                style=\"\n                  height: 100px;\n                  background-size: cover;\n                  background-position: center;\n                \"\n                :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n              ></div>\n            </td>\n            <td>\n              <h6 href=\"#\" class=\"text-dark\">{{ item.title }}</h6>\n            </td>\n            <td>\n              <div class=\"h5\" v-if=\"!item.price\">\n                {{ item.origin_price }} 元\n              </div>\n              <del class=\"h6\" v-if=\"item.price\"\n                >原價 {{ item.origin_price }} 元</del\n              >\n              <div class=\"h5\" v-if=\"item.price\">\n                現在只要 {{ item.price }} 元\n              </div>\n            </td>\n            <td>\n              <div class=\"btn-group btn-group-sm\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-secondary\"\n                  @click=\"getProduct(item.id)\"\n                  :disabled=\"status.loadingItem === item.id || !item.is_enabled\"\n                >\n                  <span\n                    class=\"spinner-border spinner-grow-sm\"\n                    v-if=\"status.loadingItem === item.id\"\n                  ></span>\n                  查看更多\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger\"\n                  @click=\"addToCart(item.id)\"\n                  :disabled=\"status.loadingItem === item.id || !item.is_enabled\"\n                >\n                  <span\n                    class=\"spinner-border spinner-grow-sm\"\n                    v-if=\"status.loadingItem === item.id\"\n                  ></span>\n                  加到購物車\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <!-- 購物車列表 -->\n      <div class=\"text-end\">\n        <button\n          class=\"btn btn-outline-danger\"\n          type=\"button\"\n          @click=\"deleteAllCarts\"\n        >\n          清空購物車\n        </button>\n      </div>\n      <table class=\"table align-middle\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>品名</th>\n            <th style=\"width: 110px\">數量</th>\n            <th>單價</th>\n          </tr>\n        </thead>\n        <tbody>\n          <template v-if=\"cart.carts\">\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm\"\n                  :disabled=\"status.loadingItem === item.id\"\n                  @click=\"removeCartItem(item.id)\"\n                >\n                  <i class=\"bi bi-x\"></i>\n                </button>\n              </td>\n              <td>\n                {{ item.product.title }}\n                <div class=\"text-success\" v-if=\"item.coupon\">已套用優惠券</div>\n              </td>\n              <td>\n                <div class=\"input-group input-group-sm\">\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    @blur=\"updateCart(item)\"\n                    min=\"1\"\n                    v-model.number=\"item.qty\"\n                  />\n                  <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\n                </div>\n              </td>\n              <td class=\"text-end\">\n                <small\n                  v-if=\"cart.final_total !== cart.total\"\n                  class=\"text-success\"\n                  >折扣價：</small\n                >\n                {{ $filters.currency(item.final_total) }}\n              </td>\n            </tr>\n          </template>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"3\" class=\"text-end\">總計</td>\n            <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n          </tr>\n          <tr v-if=\"cart.final_total !== cart.total\">\n            <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n            <td class=\"text-end text-success\">\n              {{ $filters.currency(cart.final_total) }}\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n      <div class=\"input-group mb-3 input-group-sm\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"coupon_code\"\n          placeholder=\"請輸入優惠碼\"\n        />\n        <button\n          class=\"btn btn-outline-secondary\"\n          type=\"button\"\n          @click=\"addCouponCode\"\n        >\n          套用優惠碼\n        </button>\n      </div>\n    </div>\n\n    <div class=\"my-5 row justify-content-center\">\n      <Form\n        ref=\"form\"\n        class=\"col-md-6\"\n        v-slot=\"{ errors }\"\n        @submit=\"createOrder\"\n      >\n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\">Email</label>\n          <Field\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"請輸入 Email\"\n            rules=\"email|required\"\n            v-model=\"form.user.email\"\n          ></Field>\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\n          <Field\n            id=\"name\"\n            name=\"姓名\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            rules=\"required\"\n            v-model=\"form.user.name\"\n          ></Field>\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\n          <Field\n            id=\"tel\"\n            name=\"電話\"\n            type=\"tel\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['電話'] }\"\n            placeholder=\"請輸入電話\"\n            rules=\"required|min:8|max:10\"\n            v-model=\"form.user.tel\"\n          ></Field>\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\n          <Field\n            id=\"address\"\n            name=\"地址\"\n            type=\"text\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            rules=\"required\"\n            v-model=\"form.user.address\"\n          ></Field>\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"message\" class=\"form-label\">留言</label>\n          <textarea\n            name=\"\"\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            v-model=\"form.message\"\n          ></textarea>\n        </div>\n        <div class=\"text-end\">\n          <button class=\"btn btn-danger\">送出訂單</button>\n        </div>\n      </Form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      status: {\n        loadingItem: '',\n      },\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      cart: {},\n      isLoading: false,\n      coupon_code: '',\n    };\n  },\n  inject: ['emitter', '$httpMessageState'],\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.products = response.data.products;\n        this.isLoading = false;\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n    addToCart(id, qty = 1) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.$http.post(url, { data: cart }).then((response) => {\n        this.$httpMessageState(response, '加入購物車');\n        this.status.loadingItem = '';\n        this.isLoading = false;\n        this.getCart();\n      });\n    },\n    updateCart(data) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${data.id}`;\n      const cart = {\n        product_id: data.product_id,\n        qty: data.qty,\n      };\n      this.$http.put(url, { data: cart }).then((response) => {\n        this.$httpMessageState(response, '更新購物車');\n        this.isLoading = false;\n        this.getCart();\n      });\n    },\n    deleteAllCarts() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`;\n      this.$http.delete(url).then((response) => {\n        if (response.data.success) {\n          this.$httpMessageState(response, '清除購物車');\n          this.getCart();\n          this.isLoading = false;\n        } else {\n          this.$httpMessageState(response, '清除購物車');\n          this.isLoading = false;\n        }\n      });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http.get(url).then((response) => {\n        this.cart = response.data.data;\n        this.isLoading = false;\n      });\n    },\n    removeCartItem(id) {\n      this.status.loadingItem = id;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.isLoading = true;\n      this.$http.delete(url).then((response) => {\n        if (response.data.success) {\n          this.$httpMessageState(response, '移除購物車品項');\n          this.status.loadingItem = '';\n          this.isLoading = false;\n          this.getCart();\n        } else {\n          this.$httpMessageState(response, '移除購物車品項');\n          this.isLoading = false;\n        }\n      });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`;\n      const coupon = {\n        code: this.coupon_code,\n      };\n      this.isLoading = true;\n      this.$http.post(url, { data: coupon }).then((response) => {\n        this.$httpMessageState(response, '加入優惠券');\n        this.isLoading = false;\n        this.getCart();\n      });\n    },\n    createOrder() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.$http.post(url, { data: order }).then((response) => {\n        this.$httpMessageState(response, '建立訂單');\n        if (response.data.success) {\n          this.$router.push(`/user/checkout/${response.data.orderId}`);\n        }\n        this.isLoading = false;\n        this.$refs.form.resetForm();\n      });\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=cd93c766\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}